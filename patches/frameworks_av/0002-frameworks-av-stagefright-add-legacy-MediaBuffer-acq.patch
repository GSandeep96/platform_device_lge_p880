From e568e468b7d497effbc577b639a80d49f883dd58 Mon Sep 17 00:00:00 2001
From: streambinder <davidepucci@hiddenhost.org>
Date: Tue, 6 Jan 2015 15:20:11 +0100
Subject: [PATCH 2/2] frameworks/av: stagefright: add legacy
 MediaBuffer::acquireBuffer symbol

---
 media/libstagefright/MediaBufferGroup.cpp | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/media/libstagefright/MediaBufferGroup.cpp b/media/libstagefright/MediaBufferGroup.cpp
index 6ac6d4a..c76b64e 100644
--- a/media/libstagefright/MediaBufferGroup.cpp
+++ b/media/libstagefright/MediaBufferGroup.cpp
@@ -55,6 +55,11 @@ void MediaBufferGroup::add_buffer(MediaBuffer *buffer) {
     mLastBuffer = buffer;
 }
 
+extern "C" status_t _ZN7android16MediaBufferGroup14acquire_bufferEPPNS_11MediaBufferE(
+	MediaBufferGroup* group, MediaBuffer **out) {
+	return group->acquire_buffer(out, false);
+}
+
 status_t MediaBufferGroup::acquire_buffer(
         MediaBuffer **out, bool nonBlocking) {
     Mutex::Autolock autoLock(mLock);
-- 
2.1.0

