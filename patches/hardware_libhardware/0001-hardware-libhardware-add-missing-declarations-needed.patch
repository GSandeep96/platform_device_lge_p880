From 9b582d2fd163970756a836202de5f13dbdce8115 Mon Sep 17 00:00:00 2001
From: streambinder <davidepucci@hiddenhost.org>
Date: Mon, 29 Sep 2014 22:36:32 +0200
Subject: [PATCH] hardware/libhardware: add missing declarations needed by
 native

---
 include/hardware/hwcomposer.h      | 9 ++++++---
 include/hardware/hwcomposer_defs.h | 4 +++-
 2 files changed, 9 insertions(+), 4 deletions(-)

diff --git a/include/hardware/hwcomposer.h b/include/hardware/hwcomposer.h
index 86479d3..ca278c9 100644
--- a/include/hardware/hwcomposer.h
+++ b/include/hardware/hwcomposer.h
@@ -523,7 +523,7 @@ typedef struct hwc_composer_device_1 {
                 size_t numDisplays, hwc_display_contents_1_t** displays);
 
     /*
-     * eventControl(..., event, enabled)
+     * eventControl(..., event, value)
      * Enables or disables h/w composer events for a display.
      *
      * eventControl can be called from any thread and takes effect
@@ -531,12 +531,15 @@ typedef struct hwc_composer_device_1 {
      *
      *  Supported events are:
      *      HWC_EVENT_VSYNC
+     *      HWC_EVENT_ORIENTATION
      *
      * returns -EINVAL if the "event" parameter is not one of the value above
-     * or if the "enabled" parameter is not 0 or 1.
+     * or if the "value" parameter is not 0 or 1 for HWC_EVENT_VSYNC.
+     * and if the "value" parameter is not going to be just 0 or 1 for
+     * HWC_EVENT_ORIENTATION
      */
     int (*eventControl)(struct hwc_composer_device_1* dev, int disp,
-            int event, int enabled);
+            int event, int value);
 
     /*
      * blank(..., blank)
diff --git a/include/hardware/hwcomposer_defs.h b/include/hardware/hwcomposer_defs.h
index c69a4bc..2707e1b 100644
--- a/include/hardware/hwcomposer_defs.h
+++ b/include/hardware/hwcomposer_defs.h
@@ -76,6 +76,7 @@ enum {
      * by SurfaceFlinger (just as if compositionType was set to HWC_OVERLAY).
      */
     HWC_SKIP_LAYER = 0x00000001,
+    HWC_SCREENSHOT_ANIMATOR_LAYER = 0x00000002,
 };
 
 /*
@@ -175,7 +176,8 @@ enum {
 
 /* Allowed events for hwc_methods::eventControl() */
 enum {
-    HWC_EVENT_VSYNC     = 0
+    HWC_EVENT_VSYNC     = 0,
+    HWC_EVENT_ORIENTATION    // To notify HWC about the device orientation
 };
 
 /* Display types and associated mask bits. */
-- 
2.1.1
